<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="page-title">Relatórios</h1>
    </div>
    <div>
        <form [formGroup]="relatorioForm" novalidate>
            <app-month-datepicker (dataAtualizada)="atualizarRelatorios()" formControlName="data">
            </app-month-datepicker>
        </form>
    </div>
</div>

<div class="mt-5 d-flex justify-content-around">
    <div class="totalizador totalizador-success d-flex flex-column align-items-center">
        <span>Receitas</span>
        <span>{{ totalizadores?.totalReceitas | currency:'BRL':'symbol':'1.2-2':'pt' }}</span>
    </div>
    <div class="totalizador totalizador-danger d-flex flex-column align-items-center">
        <span>Despesas</span>
        <span>{{ totalizadores?.totalDespesas | currency:'BRL':'symbol':'1.2-2':'pt' }}</span>
    </div>
    <div class="totalizador d-flex flex-column align-items-center"
        [ngClass]="{'totalizador-success': (totalizadores && (totalizadores.total > 0 || totalizadores.total === 0)), 'totalizador-danger': (totalizadores && totalizadores.total < 0)}">
        <span>Total</span>
        <span>{{ totalizadores?.total | currency:'BRL':'symbol':'1.2-2':'pt' }}</span>
    </div>
</div>
<div class="mt-5 d-flex flex-column align-items-center" *ngIf="totalizadores.total === 0">
    <div id="alert" class=" mt-5">
        <fa-icon [icon]="faExclamationCircle"></fa-icon>
    </div>
    <div class="mt-5">
        <h3>Dados não encontrados para o período selecionado!</h3>
    </div>
</div>
<div class="mt-5 d-flex justify-content-center" *ngIf="totalizadores.total > 0">
    <ngx-charts-pie-chart [results]="dadosValorTotalPorCategoria" [legend]="true" [legendTitle]="'Legenda'"
        [view]="[1000,500]" [labels]="true" [legendPosition]="legendPosition.Below" [gradient]="true">
    </ngx-charts-pie-chart>
</div>